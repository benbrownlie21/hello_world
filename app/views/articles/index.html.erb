<% content_for :title, "Articles-IO" %>


<table>
  <div class="d-flex gap-2 mb-3 px-2 mt-1">
    <%= link_to "Show All", articles_path(display: "all"), class: "btn btn-outline-success" %>
    <%= link_to "Show Active", articles_path, class: "btn btn-outline-primary" %>
  </div>
  <thead>
    <tr>
      <th>Title</th>
      <th>Description</th>
      <th colspan="4"></th>
    </tr>
  </thead>

  <tbody>
    <% @articles.each do |article| %>
      <tr>
        <td><%= article.title %></td>
        <td><%= article.description %></td>
        <td>
        <div>
          <%= button_to "Show", article, method: :get, class: "btn btn-outline-secondary" %>
          <%= button_to "Edit", edit_article_path(article), method: :get, class: "btn btn-outline-secondary" %>
          <% if article.archived? %>
            <%= button_to "Unarchive", set_unarchived_article_path(article), 
                method: :patch, 
                class: "btn btn-outline-secondary",
                data: { turbo_confirm: "Are you sure you want to restore this article?" } %>
          <% else %>
            <%= button_to "Archive", set_archived_article_path(article), 
                method: :patch, 
                class: "btn btn-outline-warning",
                data: { turbo_confirm: "Are you sure you want to archive this article?" } %>
          <% end %>
          <%= button_to "Delete", article, method: :delete, class: "btn btn-outline-danger", data: { turbo_confirm: "Are you sure you want to delete this article?" } %>
        </div>
      </td>
      </tr>
  <% end %> </tbody>
</table>

<table class="table">
  </table>

<div class="d-flex gap-1 mt-2 px-1 align-items-center">  
  <span class="ms-auto text-muted">
    Showing <strong><%= @articles.count %></strong> of <%= Article.all.count %> Articles
  </span>
</div>
